#!/usr/bin/env ruby
# vim: set ts=2 sw=2 et :

$LOAD_PATH << ".."
require 'cairo'

class TextWindow < Cairo::Xlib::Window
  def initialize(dpy)
    super(dpy, 400, 40, true)
    @text = ">"
    @cairo.scale_font(20)
    @cairo.set_rgb_color(0, 0, 0)
  end
  def draw
    @cairo.move_to(10, 30)
    @cairo.show_text(@text)
  end
  def keypress(key)
    case key.chr
    when 'q'
      @dpy.quit
    else
      @text << key.chr if key > 0
    end
  end
end

dpy = Cairo::Xlib::Display.new
w = TextWindow.new(dpy)
dpy.mainloop

